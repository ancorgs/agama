{
  "storage": {
    "boot": {
      "configure": true,
      "device": "/dev/vda"
    },
    "drives": [
      {
        "search": {
          "name": "/dev/vda"
        },
        "ptableType": "gpt",
        "partitions": [
          {
            "search": { "name": "/dev/vda2" },
            "format": {
              "filesystem": {
                "btrfs": {
                  "snapshots": true
                }
              }
            },
            "mount": {
              "path": "/",
              "options": ["ro"]
            }
          },
          {
            "create": {
              "id": "linux",
              "type": "primary",
              "size": "10 GiB"
            },
            "encrypt": {
              "password": "notsecret",
              "method": "luks2"
            },
            "format": {
              "filesystem": "xfs"
            },
            "mount": {
              "path": "/home"
            }
          },
          {
            "create": {
              "size": "2 GiB"
            },
            "encrypt": {
              "password": "notsecret",
              "method": "luks2"
            },
            "format": {
              "filesystem": "swap"
            },
            "mount": {
              "path": "swap"
            }
          }
        ]
      },
      {
        "search": {
          "name": "/dev/vdb"
        },
        "encrypt": {
          "password": "notsecret",
          "method": "luks2"
        },
        "format": {
          "filesystem": "ext4"
        },
        "mount": {
          "path": "/var/log"
        }
      }
    ]
  }
}
